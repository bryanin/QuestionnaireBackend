## 1. Цель проекта
Данное приложение - инструмент взаимодействия клиентов, инженеров по продвижению и проектировщиков компании "Луис+". 
Главные сущности системы - пользователь (сотрудник, клиент), проект и задача. 
Дополнительные: комментарии к задачам, компании, адреса, файлы проекта, опросные листы к задачам и т.п.

## Пользователь
Абстрактный пользователь имеет следующие поля: id, email, firstName, lastName, companyId, phone, password, securityRole, accessStatus
Пользователи разделены на сотрудников и клиентов:

Дополнительные поля: employeePosition 
Представлены следующие роли сотрудников:
- HEAD_OF_PROMOTION_DEPARTMENT
- HEAD_OF_PROMOTION_DEPARTMENT_ASSISTANT
- HEAD_OF_DESIGN_DEPARTMENT
- SENIOR_DESIGNER
- MIDDLE_DESIGNER
- JUNIOR_DESIGNER
- HEAD_OF_ENGINEER_PROMOTION_DEPARTMENT
- SENIOR_ENGINEER
- MIDDLE_ENGINEER
- JUNIOR_ENGINEER
- HEAD_OF_SALES
- SENIOR_SALES_MANAGER
- MIDDLE_SALES_MANAGER
- JUNIOR_SALES_MANAGER




### Сотрудники (EMPLOYEES)
### Инженер по продвижению (SENIOR_ENGINEER, MIDDLE_ENGINEER, JUNIOR_ENGINEER)
#### [v.1.] Доступ к задаче на проектирование по ссылке
1. Инженер по продвижению создает новый проект или открывает уже существующий. Из проекта создает задачу на проектироование одной конкретной системы безопасности. В структуре задачи есть поле Questionnaie, которое представляет из себя шаблон анкеты на проектирование этой конкретной системы безопасности. Инженер может самостоятельно редактировать поля задачи, вносить исправление в поле анкеты, а может указать email клиента и отправить ему эту анкету на заполнение. Создается пиьсмо для клиента, в котором есть ссылка на редактирование задачи (генерируется при отправке задачи), а также одноразовый пароль (генерируется при отправке задачи)
2. Инженер может менять статус заявки
#### [v.2.] Личный кабинет
1. Инженеру по продвижению предоставляется личный кабинет, доступный после регистрации через email
2. В разделе "Задачи" инженер может видеть весь список заявок от клиентов, настраивать этот список (фильтры "Активные задачи", "В архиве", фильтровать по клиентам, объектам и прочим полям задачи).
3. Инженер может открыть любую заявку, владельцем (поле owner_id) которой он является.
4. Инженер может редактировать заявку, при этом ее статус меняется (см. алгоритм движения заявки).
5. Инженер может запросить замену сроков по заявке. При этом на отдельной странице он добавляет комментарий, желаемый срок, а также заявку на замену (если такая имеется). По результатам запроса руководитель проектного отдела либо отклоняет запрос с комментарием, либо принимает замену, меняя сроки задач.


### Проектировщик (SENIOR_DESIGNER, MIDDLE_DESIGNER, JUNIOR_DESIGNER)
#### [v.1] Доступ к задаче на проектирование по ссылке
1. Проектировщик имеет доступ к задаче по ссылке. Ссылка генерируется при отправке задачи. Изначально ее получает инженер, вносит изменения по необходимости, затем передает руководителю проектного отдела, который распределяет задачи.


### Клиент (CUSTOMER)
Дополнительные поля: customerPosition, relatedCompanies
Представлены следующие роли сотрудников:
- DIRECTOR
- HEAD_OF_DEPARTMENT
- DESIGNER
Предусмотрен следующий функционал:
#### [v.1.] Работа с опросными листами 
1. См. п. 1 в описании Инженера по продвижению! Клиент получает email с ссылкой на редактирование задачи, а также с коротким одноразовым паролем. Ссылка генерируется при отправке задачи. 
 На странице "/newtask" сотрудник компании создает новую заявку в проектный отдел. Обязательные поля при создании заявки: email, телефон, регион/город (из предложенного списка), название объекта, адрес объекта
2. После ввода обязательных данных клиенту предоставляется чекбокс с возможностью выбрать проектируемые системы: 
Система оповещения и управления эвакуацией, Система пожарной сигнализации, Автоматизация дымоудаления, Автоматическая система газового пожаротушения, Охранная сигнализация, Система видеонаблюдения, Система контроля и управления доступом.
3. Далее клиент пошагово заполняет анкету по каждой системе отдельно. У пользователя есть возможность вернуться на прошлый шаг.
4. В конце пользователь нажимает кнопку отправить. Появляется всплывающее сообщение об успешной отправке: "Уважаемый клиент! Ваша заявка принята и передана ответственному за регион специалисту <ФИО и почта специалиста>. 
Информация отправлена на указанную Вами почту. Если письма нет, проверьте папку Спам. Вы будете получать уведомления об изменении статуса заявки на данный email."
5. На почту ответственного за регион инженера по продвижению и его руководителя (в копии) приходит письмо о создании новой заявки. Предоставляется ссылка на эту заявку в личном кабинете инженера по продвижению. 
6. На почту заполнившего заявку клиента приходит письмо о создании заявки: "Уважаемый клиент! Ваша заявка принята и передана ответственному за регион специалисту <ФИО и почта специалиста>. 
Вы будете получать уведомления об изменении статуса заявки на данный email."
#### [v.2.] Личный кабинет
1. Клиенту предоставляется личный кабинет, доступный после регистрации через email. Возможен просмотр списка задач в работе, а также корректировка, добавление заявок. Виден статус заявки, сроки окончания проектирования.

## Используемые технологии
- Java 8
- Spring Framework (Spring Boot, Spring Security, Spring Data JPA)
- PostgreSQL
- JavaScript ES6
- VueJS 3
- HTML5
- CSS
